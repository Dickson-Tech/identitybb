---
description: This section lists the technical capabilities of this Building Block.
---

# 6 Functional Requirements

## Internal functional components

A common set of unique internal functional components are required to orchestrate the services of the Scheduler Building Block as shown below. The REST API's interfaces route service requests to/from external Building Blocks and appropriate internal blocks in appropriate formats. A brief description of the generic functionality of each of these components has been given below from a minimum viable product perspective. Detailed design and feature lists of these blocks can be customized by developers to optimally match specific target implementation needs.

<table data-view="cards"><thead><tr><th></th><th></th><th></th><th data-hidden data-card-target data-type="content-ref"></th></tr></thead><tbody><tr><td></td><td>          Identity Usage</td><td></td><td><a href="6-functional-requirements.md#1.-identity-usage">#1.-identity-usage</a></td></tr><tr><td></td><td>   Identity  Management</td><td></td><td><a href="6-functional-requirements.md#2.-identity-management">#2.-identity-management</a></td></tr><tr><td></td><td>   Credential Management</td><td></td><td><a href="6-functional-requirements.md#3.-credential-management">#3.-credential-management</a></td></tr><tr><td></td><td> Subscription Management</td><td></td><td><a href="6-functional-requirements.md#4.-subscription-management">#4.-subscription-management</a></td></tr><tr><td></td><td>     Security Management</td><td></td><td><a href="6-functional-requirements.md#5.-security-management">#5.-security-management</a></td></tr><tr><td></td><td>      Privacy Management</td><td></td><td><a href="6-functional-requirements.md#6.-privacy-management">#6.-privacy-management</a></td></tr></tbody></table>

## 1. Identity Usage &#x20;

### 1.1 Verification Services API Requirements

* Identity Building Block MUST offer an API to verify Identities following a Gov Stack recommended Open Standard API.
* Identity Building Block MUST offer an API to Verify Identity of an individual based on one of its known identifiers.
* Identity Building Block MUST offer an API to retrieve personal attributes of an individual from one of its identifiers. To be noted that this service will be subject to preliminary access granted by the system and by the individual (informed consent). Authorized access control should be part of API as opposed to external configuration alone. This ensures that relying parties are verified by the API before sharing sensitive data.
* Identity Building Block MUST offer an API to identify an unknown individual, which means retrieve an identity identifier from a set of personal attributes sent. This service is normally to be used for security/law enforcement purposes and must be limited to registries of wanted people. For privacy and security reasons, this feature should only be considered where clear and accountable security/law enforcement rules are in place.
* Identity Building Block MUST offer an API to verify one characteristic of an individual without having to disclose actually the recorded related attributes. Typical request response is Yes or No (sample use case: age verification, is person older than 18 > Yes to No).
* Identity  Building Block MUST offer Identity Verification services based on modalities listed below following a GovStack recommended Open Standard API.

#### 1.1.1 Modalities

Identity verification can be performed in several ways and based on several modalities depending on various criteria.

For example, Identity verification will be performed according to the:

* **Context of identity verification**: online, face-to-face by a third party, self-identity verification, in the absence of infrastructure and technologies.
* **Capacities given to the individual**: having an ID Card, a person Identifier, a password or PIN code, using its biometrics, mobile subscription, or smartphone.
* **Status of the individual**: can they read? Do they have usable fingerprints? Are they old enough to have an ID Card?
* **Level of trust required**: according to the sensitivity of the operations, level of assurance required, policies established by the state or by the service provider, multiple factor identity verification.
* **Business constraints**: does the use case require to be very fast, touchless, seamless, physical, or digital?
* **Local laws and regulations**: the identity verification could differ according to local regulations and laws which may indicate specific ways to perform identity verification.

Below shown table will list the different modalities that can be used to perform an identity verification, the Identity Building Block may use any of them including a combination of several of them to verify a person's identity.

| **Capability**                                                 | **Description**                                                                                                                                                                                                                                                                                                                                            | **Recommended Use**                                                                                                                                                                                                                                                                                           | **Level of Trust**                                                        | **Requirements for individual or for the Context of Use**                                                                                                                                                                                                                                                                |
| -------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <p><strong>Login/</strong></p><p><strong>Password</strong></p> | Previously given login/password are typed in a login form to verify person identity.                                                                                                                                                                                                                                                                       | For online access on web site or in mobile application.                                                                                                                                                                                                                                                       | <p>Medium</p><p><br></p><p>(What you KNOW only)</p>                       | Require the individual to have access to a digital device having network connectivity and sufficient power stability.                                                                                                                                                                                                    |
| **Visual physical identity credential identity control**       | National ID card provided to the individual includes security features allowing to verify the document is genuine and data printed on it allow to know the identity of the individual.                                                                                                                                                                     | For fast verification in public place, or when there is no digital identity verification available or no connectivity to network.                                                                                                                                                                             | <p>Low</p><p><br></p><p>(What you HAVE only)</p>                          | Having been issued and delivered a physical identity credential.                                                                                                                                                                                                                                                         |
| **eID card identity data control**                             | National ID card provided to the individual includes a chip in which its identity information is securely written allowing them to get them and make sure about their authenticity.                                                                                                                                                                        | For identity verification in face to face control.                                                                                                                                                                                                                                                            | <p>Medium</p><p><br></p><p>(What you HAVE only)</p>                       | Having been issued and delivered a physical identity credential with a chip (eID card), having access to a digital identity verification device. No need for network connectivity.                                                                                                                                       |
| **eID card based identity verification**                       | National ID card provided to the individual includes a chip in which its identity information is securely written allowing them to get them and make sure about their authenticity. Those same data can be used for a match versus other information like who the person pretends to be, what is printed on the document or it’s biometrics captured live. | For identity verification in face to face control.                                                                                                                                                                                                                                                            | <p>High</p><p><br></p><p>(What you HAVE and what you ARE)</p>             | <p>Having been issued and delivered a physical identity credential with a chip (eID card), having access to a digital identity verification device which can perform a matching between person attributes and chip stored attributes.</p><p><br></p>                                                                     |
| **Fingerprint 1:1 matching versus ID credential**              | <p>The individual live capture fingerprint will be compared to its fingerprint(s) captured during its identity creation.</p><p>Those original fingerprints being stored on or within its Identity credential.</p>                                                                                                                                          | For identity verification in face to face control or self-control of identity (i.e. airport eGates).                                                                                                                                                                                                          | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been issued and delivered a physical identity credential including a digital ID into a chip (eID card) or in a cryptogram, having access to a digital identity verification device which can perform an ID Credential reading, fingerprint(s) capture and matching with attributes stored in ID credential.       |
| **Fingerprint 1:1 matching online**                            | <p>The individual live capture fingerprint will be compared to its fingerprint(s) captured during its identity creation.</p><p>The fingerprints are verifiable using an online service.</p>                                                                                                                                                                | For identity verification in face to face control or self-control of identity (ie airport eGates)                                                                                                                                                                                                             | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been registered to a state recognized identity provider, having access to a connected digital identity verification device which can perform fingerprint(s) capture and access to online identity verification services.                                                                                          |
| **Fingerprint recognition**                                    | The individual doesn't provide its identity, a search based on its fingerprints is performed against a database of known identities in order to identify him/her.                                                                                                                                                                                          | NOT RECOMMENDED FOR CIVIL USE. This capability is rather to be used for security purposes in criminal or border control systems or secured building access.                                                                                                                                                   | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been registered (or not) to a state recognized identity database, having access to a connected digital identity verification device which can perform fingerprint(s) capture and access to online identification services.                                                                                        |
| **Facial 1:1 matching versus ID credential**                   | <p>The individual live face capture will be compared to its face captured during its identity creation.</p><p>That original face capture may be stored on or within its Identity credential.</p>                                                                                                                                                           | <p>For identity verification in face to face control or self-control of identity (ie airport eGates)</p><p>A face liveness detection is recommended.</p>                                                                                                                                                      | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been issued and delivered a physical identity credential including a digital ID into a chip (eID card) or in a cryptogram, having access to a digital identity verification device which can perform an ID Credential reading, face capture and matching with attributes stored in ID credential.                 |
| **Facial 1:1 matching online**                                 | <p>The individual live face capture will be compared to its face captured during its identity creation.</p><p>The face is verifiable using an online service.</p>                                                                                                                                                                                          | <p>For identity verification in face to face control or self-control of identity (ie airport eGates)</p><p>A face liveness detection is recommended.</p>                                                                                                                                                      | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been registered to a state recognized identity provider, having access to a connected digital identity verification device which can perform face capture and access to online identity verification services.                                                                                                    |
| **Facial recognition**                                         | The individual doesn't provide its identity, a search based on its face is performed against a database of known identities in order to identify him/her.                                                                                                                                                                                                  | NOT RECOMMENDED FOR CIVIL USE. This capability is rather to be used for security purposes in criminal or border control systems or secured building access.                                                                                                                                                   | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been registered (or not) to a state recognized identity database, having access to a connected digital identity verification device which can perform face capture and access to online identification services.                                                                                                  |
| **Iris 1:1 matching versus ID credential**                     | <p>The individual live iris captured will be compared to its iris captured during its identity creation.</p><p>That original iris capture may be stored on or within its Identity credential.</p>                                                                                                                                                          | <p>For identity verification in face to face control or self-control of identity (i.e. airport eGates)</p><p>Liveness detection is recommended.</p>                                                                                                                                                           | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been issued and delivered a physical identity credential including a digital ID into a chip (eID card) or in a cryptogram, having access to a digital identity verification device which can perform an ID Credential reading, iris capture and matching with attributes stored in ID credential.                 |
| **Iris 1:1 matching online**                                   | <p>The individual live iris capture will be compared to its iris captured during its identity creation.</p><p>The iris is verifiable using an online service.</p>                                                                                                                                                                                          | <p>For identity verification in face to face control or self-control of identity (i.e. airport eGates)</p><p>Liveness detection is recommended.</p>                                                                                                                                                           | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been registered to a state recognized identity provider, having access to a connected digital identity verification device which can perform iris capture and access to online identity verification services.                                                                                                    |
| **Iris recognition**                                           | The individual doesn't provide its identity, a search based on its iris is performed against a database of known identities in order to identify him/her.                                                                                                                                                                                                  | NOT RECOMMENDED FOR CIVIL USE. This capability is rather to be used for security purposes in criminal or border control systems or secured building access.                                                                                                                                                   | <p>High</p><p><br></p><p>(What you ARE)</p>                               | Having been registered (or not) to a state recognized identity provider, having access to a connected digital identity verification device which can perform iris capture and access to online identification services.                                                                                                  |
| **OTP**                                                        | The individual needs to type in a form (online or app) a One Time Password (OTP) received from the identity provider.                                                                                                                                                                                                                                      | <p>Can be used when needing to access an online service.</p><p>To be used a second factor of authentication, for example with a login password).</p>                                                                                                                                                          | <p>High</p><p><br></p><p>(What you KNOW and what you HAVE)</p>            | Having been registered to a state recognized identity provider, owning a mobile subscription, being in capacity to receive messages (SMS, messaging, email), having access to service provider online services. It is important to acknowledge different patterns of phone ownership (individual, household, community). |
| **Online ID credential matching**                              | <p>The individual will authenticate versus himself its ID credential online.</p><p>The process may include biometrics control versus data printed or stored in the Identity credential, together with genuity check of the document using security features and eventually control of document authenticity versus database of issued documents.</p>       | <p>Can be used to perform remote on-boarding of persons in services. To be noted it anyway required a face to face on-boarding to enroll for the Identity credential.</p><p>Ensuring the document is genuine can be a challenge, unless an ID credential secured chip is involved as part of the process.</p> | <p>High</p><p><br></p><p>(What you HAVE, what you ARE, what you WERE)</p> | Owning an ID Credential registered for online services verification, having a connected smartphone eventually capable of reading a chip.                                                                                                                                                                                 |
| **Online PKI based identity verification**                     | The individual uses its identity credential or a digital device to encrypt or sign identity verification data which can then be verified on server side. A PIN code is requested.                                                                                                                                                                          | Can be used if ,and only if, a specific PKI infrastructure is in place to issue, read and verify online.                                                                                                                                                                                                      | <p>HIGH</p><p><br></p><p>(What I HAVE, what I KNOW)</p>                   | The individual own an identity credential or a digital device storing personal cryptographic secrets.                                                                                                                                                                                                                    |
| **Behavior based identity verification**                       | The individual is authenticated seamlessly based on its context and behavior following an evaluation of the risk he/she not be himself/herself.                                                                                                                                                                                                            | <p>To be used for very frequent access control (i.e. control of office workers) when security and convenience are both importants.</p><p>Requires solid on-boarding before.</p>                                                                                                                               | <p>MEDIUM</p><p><br></p><p>(What I DO,</p><p>Where I AM)</p>              | Having been screened and tracked on normal habits, locations, behaviors to be used for evaluation of fraud risk being online.                                                                                                                                                                                            |
| **Token based identity verification (SSO)**                    | <p>The individual has already been authenticated to a third party system allowing him to avoid a new identity verification and reuse the token.</p><p>This mechanism is also named Single Sign On (SSO).</p><p><br><br></p>                                                                                                                                | To be used for online identity verification is usage of a digital identity.                                                                                                                                                                                                                                   | <p>Depends on previous identity verification</p><p><br></p>               | Having been previously authenticated by a third party system and obtained a verifiable authentication token.                                                                                                                                                                                                             |
| **Verifiable Credential**                                      | The individual has shared a verifiable credential to a third party system which allows its identity verification.                                                                                                                                                                                                                                          | <p>Can be used in various contexts online/offline.</p><p>Can be related to one or several attributes of Identity.</p>                                                                                                                                                                                         | <p>High</p><p><br></p><p>(What you HAVE, what you ARE, what you WERE)</p> | <p>Require an electronic or physical support to verify the credential.</p><p>If a verifiable credential can be verified offline, connectivity is required to verify the security chain.</p>                                                                                                                              |

Through this list of capabilities we can see there are numerous but limited options for Identity Verification that can be combined or not, this list allows us to normalize them all into the following inputs for an identity verification:

1. **Identifier**: identifier referring to a digitally retrievable identity that can give access to an individual's attributes for verification. It is noted that several kinds of identifiers could be used to refer to the same person, which is particularly important to preserve privacy (see glossary).
2. **Set of attributes**: attributes provided by the individual or retrieved on/within its Identity credential for purpose of a matching versus a reference (online or ID credential), those attributes can be biographic data, biometrics data, or scan of identity evidence.
3. **Authentication token**: A previous identity verification token can be used for identity verification, this token would allow the current service provider to verify against the authenticating system the genuineness of the token.

## 2. Identity Management

### 2.1 New Identity Enrolment

* Identity Building Block MUST offer an API to Enroll persons following a GovStack recommended Open Standard API.
* Identity Building Block MUST offer capacity to perform an enrollment in one step.
* Identity Building Block MUST offer capacity to perform an enrollment in multiple steps (i.e. pre-enrollment and enrollment).
* Identity Building Block MUST offer capacity to search, retrieve and update and enrollment made (if it has not been committed yet).
* Identity Building Block MUST allow to control integrity and origin of an enrollment request by implementing enrollment meta-data about the context and actors of the enrollment, such as signature of data to ensure integrity. To ensure the integrity of the enrollment process, the Building Block must be able to implement technical controls so that only approved enrollment services can engage with the enrollment service. Cryptographic trust should be implemented.
* Identity Building Block MUST support receiving encrypted data to ensure privacy protection and prevent data theft.
* Identity Building Block MUST offer capacity to perform an enrollment offline which means not expecting interactions in between registration client and server during the enrollment process, data being uploaded as a whole packet.
* Identity Building Block MUST keep track of the enrollment request identifiers within its internal management in order to facilitate traceability and troubleshooting.
* Identity Building Block MUST generate a Unique Identifier for Identity created. This number must be kept secret within the Identity Building Block.
* &#x20;Identity Building Block MUST be capable to generate Virtual Identifier for refering to a User. The Virtual Identifier will be linked to the User Unique Identifier.
* &#x20;Identity Building Block MUST offer an API to revoke a Virtual Identifier. In that case the Alias won't be usable anymore for any Identity Building Block services.
* &#x20;Identity Building Block MUST be capable to attach and Alias Identifier to Unique Identifier for refering to a User. The alias will be an existing form of trusted identification of the User in another system. It could be for example an existing identity document number, an email address, a phone, ...&#x20;
* Identity Building Block MUST offer an API to revoke the link to an Alias. In that case the Alias won't be usable anymore for any Identity Building Block services.

#### &#x20;2.1.1 Use Case

Enrollment in a National Digital Identity is a sensible process as the created digital identity will be recognized by law and then consequence of its use.

In some countries, it’s possible to enroll in a National Digital Identity remotely based on an existing form of identity like for example an ID card. If they are convenient they open the risk for fraud or identity theft.

For all these reasons, it appears that an identity enrollment has to be rolled out in a face-to-face process, with the collection of identity attributes being demographic, biometrics, or related proof of them.

This process will be developed later, for now, we can list its main steps for the face process:

1. Explanation of the purpose of process and usage that will be made of data.
2. Identity verification: the process starts by providing evidence of identity (i.e. birth certificate, previous ID card, passport).
3. Collection of demographic data (confirmed with evidence provided).
4. Collection of biometric data including
   * Generally, a portrait capture will be used to visually recognize the person, for example, printed on an ID card.
   * Sometimes fingerprints and iris are captured for identity deduplication purposes or for further biometric authentication.
5. Scan of identity evidence to sustain the identity attributes certification.
6. Collection of external identifiers (Birth ID number, Social security card number, etc.) to establish links with external pre-existing forms of Identity.
7. Verification of the data captured by the individual.
8. Consent collection to launch the registration process.
9. Delivery of a registration number.
10. In case the Enrollment process is synchronous issuance and delivery of a unique identity number.

These are only the steps visible to the individual and the process will pursue within the Identity and Verification Building Block notably with the following steps:

1. Packing and securing the data (signature & encryption).
2. Transport of data to an identity registration system.
3. Control of format and origin of data collected to ensure their authenticity.
4. Control of eligibility criteria
   * Could include biometrics unicity in case of centralized identity.
   * Could include additional checks like nationality, and age (but those ones are not recommended to ensure an inclusive system).
5. Generation of a Unique Identity number.
6. Storage of identity data by respecting privacy by design principles.
7. Communication of the Unique Identity Number to the individual.
8. Eventual issuance of a physical or digital credential.
9. Optionally notification of the systems around having subscribed to identity creation events (i.e. social security, health, finance, education).

### 2.2 Existing Identity management

* Identity Building Block MUST offer APIs to update attributes of identities and to attach a legal evidence of that identity change approval (often delivered by justice).

## 3. Credential Management

* Identity Building Block MUST offer an API to request issuance, get status and manage Identity Credentials, following a GovStack recommended Open Standard API.
* Identity Building Block MUST offer an API to manage the full life cycle of credentials related to an identity in an issuing system. The related credential must keep a strong and verifiable link with the individual identity and with the issuer.
* Identity Building Block API MUST manage Digital Credentials.
* Identity Building Block API MUST manage Physical Credentials.
* Identity Building Block MUST offer an API allowing to request an identity credential issuance to a 3rd party credential management system. The information sent will have to be verifiable towards their issuer for auditability purpose, so they will have to be packed into Verifiable Credential format.
* Identity Building Block MUST offer APIs to either push data for credential issuance in an issuance request or to be requested by the issuing system.
* Identity Building Block MUST offer an API allowing to issue a similar credential to the one already issued before based on the credential ID number.
* Identity Building Block MUST offer an API allowing to revoke an issued ID credential. This will be used, for example, when a document is damaged, stolen or definitely lost.
* Identity Building Block MUST offer an API allowing to temporarily suspend then un-suspend an issued ID credential.  This will be used to disable an ID credential which has been lost, it’s holder suspending it the time to search for it. After retrieval the document should be unsuspended and usable again. If not retrieved after some time, the document should be revoked.&#x20;
* Identity Building Block MUST offer an API allowing to check suspension status of a document.
*   Identity Building Block MUST  offer an API to request status of ID credentials.

    Status being related to their production, their delivery or their activation status.
* Identity Building Block MUST offer an API to search for ID credentials using some of its attributes. The output must be restricted to being a document number which can facilitate an access request only. No information can be shared directly.
*   Identity Building Block MUST offer an API to retrieve a new copy of an ID credential already issued in case the current document has expired.

    The copy may be received through electronic way if being digital or delivered physically in case of a physical ID document.
* Identity Building Block MUST offer an API to download a newly generated digital ID credential.
* Identity Building Block MUST offer an API to share to a 3rd party a Digital ID Credential.

## 4. Subscription Management

* Identity Building Block MUST offer an API for Subscribers to register to identity change events.
* Identity Building Block MUST offer an API for Subscribers to register to Creation, Update and Disabling (person dead or considered as disapeared) events
* Identity Building Block MUST offer an API for Subscribers to collect events details after being notified of them. &#x20;

## 5. Security Management

* Identity Building Block MUST prevent any user unauthorized system or user to get access to data.
* Identity Building Block MUST offer identity verification services only to registered system or users.
* Identity Building Block MUST offer capacity to grant access to specific verification services for specific or all individuals that are data subjects and hence owners of that data.
* Identity Building Block MUST respect principles of data security by design in order to maximize protection against hackers: data encryption, data isolation, data separation, data anonymization, data minimization.
* Identity Building Block MUST implement security best practices in order to ensure the Identities it manages can be trusted.
* Identity Building Block MUST implement an history of change for any identity must be retrievable and auditable by authorized users to investigate suspicious cases.

## 6. Privacy Management

* Identity Building Block MUST offer identity verification services only with preliminary informed consent on personal data usage of the concerned individual.
* Identity Building Block MUST NOT disclose any personal unnecessary information as part of its services API, and when possible prefer Yes/No answer rather than sharing attributes. All Sensitive Personal Information/Personally Identifiable Information must not be written to logs/reporting databases.

